<!DOCTYPE html>
<html lang="en">
<script>
    if (!localStorage.getItem("order")){ 
        console.log("got here"); 
        localStorage.setItem("order", "pasc");
    }
</script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="bg-dark text-light" style="overflow-x: hidden">
    <div class="align-middle container text-center">
        <h1 class="mt-5">Atrodi savu sapņu māju!</h1>
        <form method="GET" action="/search" class="form-outline form-white row">
            <div class="form-group text-left mt-4">
                <h3>Cena</h3>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$min_price">&nbsp&nbspNo:&nbsp</label>
                    <input class="form-control bg-dark text-light" name="$min_price" type="number" placeholder="min">
                </div>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$max_price">Līdz:&nbsp</label>
                    <input class="form-control bg-dark text-light" name="$max_price" type="number" placeholder="max">
                </div>
            </div>
            <div class="form-group text-left my-4">
                <h3>Platība</h3>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$min_prop_size">&nbsp&nbspNo:&nbsp</label>
                    <input class="form-control bg-dark text-light" name="$min_prop_size" type="number" placeholder="min">
                </div>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$max_prop_size">Līdz:&nbsp </label>
                    <input class="form-control bg-dark text-light" name="$max_prop_size" type="number" placeholder="max">
                </div>
            </div>
            <div class="form-group text-left my-4">
                <h3>Zemes platība</h3>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$min_lot_size">&nbsp&nbspNo:&nbsp</label>
                    <input class="form-control bg-dark text-light" name="$min_lot_size" type="number" placeholder="min">
                </div>
                <div class="d-inline-flex align-items-center">
                    <label class="col-md-2" for="$max_lot_size">Līdz:&nbsp </label>
                    <input class="form-control bg-dark text-light" name="$max_lot_size" type="number" placeholder="max">
                </div>
            </div>
            <div class="form-group text-left my-4">
                <h3>Atrašanās vieta</h3>
                <div class="d-inline-flex align-items-center">
                    <label for="$region"></label>
                    <select name="$region" class="form-control bg-dark text-light" placeholder="">
                        <option value="">---</option>
                        <option value="Rīga">Rīga</option>
                        <option value="Daugavpils">Daugavpils</option>
                        <option value="Jelgava">Jelgava</option>
                        <option value="Ventspils">Ventspils</option>
                        <option value="Jūrmala">Jūrmala</option>
                        <option value="Liepāja">Liepāja</option>
                        <option value="Rēzekne">Rēzekne</option>
                        <option value="Aizkraukles nov.">Aizkraukles nov.</option>
                        <option value="Alūksnes nov.">Alūksnes nov.</option>
                        <option value="Augšdaugavas nov.">Augšdaugavas nov.</option>
                        <option value="Balvu nov.">Balvu nov.</option>
                        <option value="Ādažu nov.">Ādažu nov.</option>
                        <option value="Bauskas nov.">Bauskas nov.</option>
                        <option value="Cēsu nov.">Cēsu nov.</option>
                        <option value="Dienvidkurzemes nov.">Dienvidkurzemes nov.</option>
                        <option value="Dobeles nov.">Dobeles nov.</option>
                        <option value="Gulbenes nov.">Gulbenes nov.</option>
                        <option value="Jelgavas nov.">Jelgavas nov.</option>
                        <option value="Jēkabpils nov.">Jēkabpils nov.</option>
                        <option value="Krāslavas nov.">Krāslavas nov.</option>
                        <option value="Kuldīgas nov.">Kuldīgas nov.</option>
                        <option value="Ķekavas nov.">Ķekavas nov.</option>
                        <option value="Limbažu nov.">Limbažu nov.</option>
                        <option value="Ludzas nov.">Ludzas nov.</option>
                        <option value="Līvānu nov.">Līvānu nov.</option>
                        <option value="Madonas nov.">Madonas nov.</option>
                        <option value="Mārupes nov.">Mārupes nov.</option>
                        <option value="Ogres nov.">Ogres nov.</option>
                        <option value="Olaines nov.">Olaines nov.</option>
                        <option value="Preiļu nov.">Preiļu nov.</option>
                        <option value="Ropažu nov.">Ropažu nov.</option>
                        <option value="Rēzeknes nov.">Rēzeknes nov.</option>
                        <option value="Salaspils nov.">Salaspils nov.</option>
                        <option value="Saldus nov.">Saldus nov.</option>
                        <option value="Saulkrastu nov.">Saulkrastu nov.</option>
                        <option value="Siguldas nov.">Siguldas nov.</option>
                        <option value="Smiltenes nov.">Smiltenes nov.</option>
                        <option value="Talsu nov.">Talsu nov.</option>
                        <option value="Tukuma nov.">Tukuma nov.</option>
                        <option value="Valkas nov.">Valkas nov.</option>
                        <option value="Valmieras nov.">Valmieras nov.</option>
                        <option value="Varakļānu nov.">Varakļānu nov.</option>
                        <option value="Ventspils nov.">Ventspils nov.</option>
                        <option value="Cits">Cits</option>
                    </select>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <input type="hidden" id="order" name="order" value="">
                <input type="hidden" name="page" value="1">
                <button type="submit" class="btn btn-outline-light bg-light text-dark col-3 my-4">Meklēt</button>
            </div>
        </form>
    </div>
    <script>
        document.getElementById("order").value = localStorage.getItem("order");
        const form = document.forms[0];
        var controls=form.elements;

        form.addEventListener('submit', e => {
            e.preventDefault();
            localStorage.setItem("steps", 1);
            localStorage.setItem("page", 1);
            
            for (i=0; i<controls.length; i++){
                if (controls[i].value == '' || controls[i].value == '0'){
                    controls[i].disabled = 1;
                }
                else {
                    controls[i].disabled = 0;
                }
            }
            form.submit();

        for (i=0; i<controls.length; i++){
            controls[i].disabled = 0;
        }
        });
    </script>
</body>
</html>